<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

  <script>
    let count = 0; // count를 전역 변수로 선언

    /*
      카운트를 증가시키는 함수
      const increase = () => ++count;

      console.log(increase());  // 1
      console.log(increase());  // 2
      count = 999;
      console.log(increase());  // 1000
    */

    // 값 유지는 가능하지만 전역변수 특성상 어느 영역에서나 접근이 가능하므로  
    // 값이 변경될 가능성이 항상 존재한다


    
    /*
      const increase = () => {
        let count = 0;    // count를 지역 변수로 선언
        return ++count;

      };
      console.log(increase());
      console.log(increase());
      // count == 999; error
      console.log(increase());
    */

    // 함수 호츨이 종료되면 소멸하는 지역 변수의 특성때문에
    // 값 유지를 할 수 없다



    // 카운트를 증가시키는 함수를 리턴하는 클로저 생성
    /*
      const increaseClosure = () => {
        let count = 0;
        function increase() {
          return ++count;
        }
        return increase;
      }
    */

    /*
    const increase = increaseClosure();
    console.log(increase());  // 1
    console.log(increase());  // 2
    count = 999;
    console.log(increase());  // 3 값을 유지하고 함수가 동작
    */



    // 즉시 실행 함수 : 1회성 호출 함수를 만들 때 주로 사용
    const increase = (() => {
      let count = 0;
      return () => ++count;
    })();

    console.log(increase());
    console.log(increase());
    count = 999;
    console.log(increase());


    /*
      클로저 함수를 용하는 목적

      1. 외부로부터 값을 보호하면서 데이터를 유지시키기 위한 방법으로 사용
      2. 모듈화에 유리 -> 함수의 재사용성을 극대화하여,
          다양한 로직에 대응할 수 있는 코드 작성 가능
    */


  </script>

</body>

</html>